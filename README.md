# 新能源汽车情报收集与分析系统

## 系统概述

这是一个专业的新能源汽车行业情报收集与分析系统，旨在自动化收集、分析和整理行业相关信息，每日生成高质量的标准化报告。

## 核心功能

### 1. 数据采集模块
- **乘联会数据自动采集**: 收集官方销量数据、新车型发布、用户投诉和政策信息
- **四大汽车垂直平台监测**: 汽车之家、懂车帝、易车网、太平洋汽车
- **行业领袖动态追踪**: 追踪比亚迪、吉利、长城、蔚来、理想、小鹏等CEO言论

### 2. 数据处理与分析
- **数据清洗与标准化**: 去重、格式统一、时间戳标准化
- **质量控制**: 数据完整性检查、可信度评估、相关性评分
- **情感分析**: 用户反馈情感倾向分析、品牌声誉监测
- **趋势分析**: 市场趋势预测、技术发展方向分析

### 3. 报告生成
- **标准化模板**: 统一的日报、周报、月报格式
- **多格式输出**: HTML、JSON、Markdown格式
- **可视化图表**: 数据图表、趋势分析图
- **质量评估**: 自动质量评分和完整性检查

## 技术架构

### 前端技术栈
- React 18 + TypeScript
- Tailwind CSS (灰度配色方案)
- Chart.js (数据可视化)
- Zustand (状态管理)

### 后端技术栈
- Node.js + Express
- TypeScript
- MySQL (主数据库)
- Redis (缓存层)
- Bull (任务队列)

### 数据采集技术
- Puppeteer (网页爬虫)
- Cheerio (HTML解析)
- Axios (HTTP请求)
- Natural (自然语言处理)

## 安装与配置

### 1. 安装依赖
```bash
npm install
```

### 2. 配置环境变量
创建 `.env` 文件：
```env
# 数据库配置
DB_HOST=localhost
DB_PORT=3306
DB_USER=nev_user
DB_PASSWORD=your_password
DB_NAME=nev_intelligence

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379

# 系统配置
COLLECTION_START_TIME=06:00
COLLECTION_DEADLINE=18:00
MIN_DATA_QUALITY=70
MIN_RELEVANCE_SCORE=60
```

### 3. 数据库初始化
```bash
# 创建数据库
mysql -u root -p < scripts/init_database.sql

# 运行迁移
npm run migrate
```

### 4. 构建项目
```bash
npm run build
```

## 使用方法

### 1. 手动执行数据采集
```bash
# 开发模式
npm run dev

# 生产模式
npm start
```

### 2. 测试单个模块
```bash
# 测试乘联会采集
npm run test:cpca

# 测试平台监测
npm run test:platform

# 测试领袖追踪
npm run test:leader

# 测试模板生成
npm run test:template
```

### 3. 定时任务
系统默认设置每日06:00自动开始数据采集，18:00前完成报告生成。

## 数据流程

### 日度采集流程
1. **06:00** - 官方数据源自动采集（乘联会、政府网站）
2. **08:00** - 垂直平台数据抓取（四大汽车平台）
3. **10:00** - 社交媒体动态监测（CEO言论、行业新闻）
4. **12:00** - 数据清洗与标准化处理
5. **14:00** - 分析与趋势计算
6. **16:00** - 报告生成与质量审核
7. **18:00** - 最终报告发布与提交

### 质量控制流程
1. **数据源可信度评估** - 多源交叉验证
2. **内容完整性检查** - 必填字段验证
3. **时效性验证** - 确保当日数据新鲜度
4. **准确性校验** - 异常数据标记
5. **发布前最终确认** - 人工审核接口

## 输出格式

### 1. HTML报告
- 优化的灰度配色方案
- 响应式设计，支持移动端
- 交互式图表和数据可视化
- 打印友好的格式

### 2. JSON数据
- 结构化数据格式
- 便于API集成和二次开发
- 完整的数据元信息

### 3. Markdown文档
- 便于版本控制和协作
- 支持多种文档平台
- 轻量级，易于分享

## 性能优化

### 1. 采集优化
- 智能调度算法，避免并发冲突
- 失败重试机制，提高成功率
- 缓存策略，减少重复请求

### 2. 存储优化
- 数据压缩存储，节省空间
- 索引优化，提升查询速度
- 冷热数据分离，平衡性能与成本

### 3. 查询优化
- 预计算结果缓存
- 分页查询优化
- 连接池管理

## 监控与运维

### 1. 系统监控
- 服务健康检查
- 性能指标监控
- 异常告警机制
- 日志集中管理

### 2. 业务监控
- 数据采集成功率
- 报告生成时效性
- 内容质量评分
- 用户满意度追踪

## 安全与合规

### 1. 数据安全
- API访问控制
- 敏感信息脱敏
- 访问日志记录
- 数据加密存储

### 2. 合规要求
- 遵守robots.txt协议
- 用户隐私保护
- 数据来源标注
- 版权合规检查

## 扩展功能

### 1. 自定义数据源
- 支持添加新的数据源
- 可配置的数据字段映射
- 灵活的数据清洗规则

### 2. 高级分析
- 机器学习预测模型
- 竞品分析功能
- 用户画像分析
- 市场细分分析

### 3. 协作功能
- 团队协作工作流
- 评论和批注系统
- 版本控制
- 权限管理

## 技术支持

### 1. 开发团队
- 系统架构师
- 前端开发工程师
- 后端开发工程师
- 数据分析师

### 2. 维护计划
- 定期系统更新
- 数据源维护
- 性能优化
- 安全补丁

## 联系方式

- 项目负责人: [联系邮箱]
- 技术支持: [技术支持邮箱]
- 业务咨询: [业务咨询邮箱]

---

**创建时间**: 2025年11月28日  
**最后更新**: 2025年11月28日  
**版本**: v1.0.0
